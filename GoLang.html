<!DOCTYPE html><html lang=sk><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=X-Xss-Protection content="1; mode=block"><meta http-equiv=X-Content-Type-Options content=nosniff><meta name=viewport content="width=device-width, initial-scale=1"><link rel=alternate type=application/rss+xml title="RSS Feed" href=feed.rss><meta name=author content=harrison314><meta name=generator content=AspNetStatic><title>Golang a alternat&#xED;vy</title><meta property=og:title content="Golang a alternatívy"><meta property=og:description content="Go očami dotnet developera."><meta property=og:url content=https://harrison314.github.io/GoLang.html><meta name=description content="Go očami dotnet developera."><link href=css/bootstrap.min.css rel=stylesheet><link href=css/blog-post.css rel=stylesheet><script type=text/x-mathjax-config>
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel=stylesheet href=css/Highiler/vs.css><style>img{max-width:100%}.img-center{display:block;margin-left:auto;margin-right:auto}</style><body><nav class="navbar navbar-inverse navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=index.html>harrison314 blog</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li><a href=/All.html>Obsah</a><li><a href=/DevelopingAll.html>Programovanie</a><li><a href=/GeneralAll.html>Všeobecné</a><li><a href=/OMne.html>O mne</a></ul></div></div></nav><div class=container><div class=row><div class="col-lg-8 col-md-8"><h1>Golang a alternat&#xED;vy</h1><div class=publishDate>M&#xE1;j 2018</div><p>Haipovaný jazyk, no&#160;len na&#160;špeciálne použitie. (Blog je písaný k&#160;verzii <em>Go 1.10</em> a&#160;hodnotí defaultný jazyk a&#160;kompilátor.)<p><strong>Výhody:</strong><ul><li>Výsledkom kompilácie je jeden natívny spustiteľný súbor bez&#160;závislostí.<li>Má štandardnú knižnica pre&#160;moderné použitie (JSON, REST Api, Http klient, certifikáty,&#8230;).<li>Jednoduchá cross-kompilácia bez&#160;nutnosti mať k&#160;dispozícii cieľovú platformu (napr. Mac OS).<li>Primitívny jazyk so&#160;statickým typovaním.<li>Jednoduchá správa závislostí.<li>Podpora paralelizácie v&#160;jazyku.<li>Vhodné na&#160;mikro (piko) služby ako load balancer, proxy,&#8230;</ul><p><strong>Nevýhody:</strong><ul><li>Až moc primitívny jazyk, pre&#160;mňa to je kombinácia Pascalu a&#160;JavaScriptu.<li>Absencia výnimiek, chybu treba vždy vracať a&#160;po každej operácii kontrolovať, či&#160;nenastala.<li>Absencia generík, či&#160;makier a&#160;overloadov funkcií. To vedie k&#160;opakovaniu kódu a&#160;vymýšľaniu mien pre&#160;overloady a&#160;sťažuje implementáciu algoritmov a&#160;infraštruktúrneho kódu.<li>Absencia resoursov, keď&#160;je treba zakompilovať nejaký súbor do&#160;binárky je ho tam nutné napastovať ako string alebo&#160;bytové pole.<li>Nemožnosť kors-kompilácie ak sa použije v&#160;kombinácii s&#160;C/C++.<li>Defaultne chýbajú verzie závislostí a&#160;ich automatický restor.<li>Na natívne kompilovaný jazyk určený pre&#160;vysoký výkon mi chýba možnosť explicitne vytvárať a&#160;deštruovať dátové štruktúry.</ul><h2 id=alternativy>Alternatívy</h2><h3 id=c-11-a-vysie>C++ 11 a&#160;vyšie</h3><p>Od C++11 považujem C++ za&#160;modrený jazyk, ktorému nechýbajú veci ako lambdy, funkcie vyššieho rádu, immutable, polymorfizmus&#8230; Plus má vďaka <em>Opem MP</em> priamo v&#160;jazyku podporu paralelizácie.<p>Z neparalného programu:<div class="lang-cpp editor-colors"><div style=color:Black;background-color:White><pre>
  #include &lt;cmath&gt;
  <span style=color:Blue>int</span> main(<span style=color:Blue>int</span> argc, <span style=color:Blue>char</span> *argv[])
  {
    <span style=color:Blue>const</span> <span style=color:Blue>int</span> size = 256;
    <span style=color:Blue>double</span> sinTable[size];
    
    <span style=color:Blue>for</span>(<span style=color:Blue>int</span> n=0; n &lt; size; ++n)
      sinTable[n] = std::sin(2 * M_PI * n / size);
  
    <span style=color:Green>// the table is now initialized</span>
  }
</pre></div></div><p>Na paralelný:<div class="lang-cpp editor-colors"><div style=color:Black;background-color:White><pre>
  #include &lt;cmath&gt;
  <span style=color:Blue>int</span> main(<span style=color:Blue>int</span> argc, <span style=color:Blue>char</span> *argv[])
  {
    <span style=color:Blue>const</span> <span style=color:Blue>int</span> size = 256;
    <span style=color:Blue>double</span> sinTable[size];
    
    #pragma omp parallel <span style=color:Blue>for</span>
    <span style=color:Blue>for</span>(<span style=color:Blue>int</span> n=0; n &lt; size; ++n)
      sinTable[n] = std::sin(2 * M_PI * n / size);
  
    <span style=color:Green>// the table is now initialized</span>
  }
</pre></div></div><p>Viac ukážok na: <a href="https://bisqwit.iki.fi/story/howto/openmp/">https://bisqwit.iki.fi/story/howto/openmp/</a>.<h3 id=mono>Mono</h3><p>Mono umožňuje cross-kompiláciu do&#160;natívneho kódu s&#160;tým, že&#160;možné všetko zbaliť do&#160;jednej binárky pomocou <a href="http://www.mono-project.com/docs/tools+libraries/tools/mkbundle/">mkbundle</a>. Z&#160;pokusov, ktoré som robil (konzolové aplikácie s&#160;HTTP klientom) mi vyšlo, že&#160;výsledný binárny súbor je približne o&#160;megabajt väčší ako alternatíva v&#160;<em>Go</em>. Navyše je takto možné spraviť programy, ktoré majú jednoduché GUI.<h3 id=net-core>.Net Core</h3><p>.Net Core umožňuje korss-kompiláciu pre&#160;jednotlivé platformy s&#160;pribalením všetkých závislostí (nie je potrebné inštalovať runtime). S&#160;výkonom sa ide pohrať cez <em>unsafe</em> kód. Nevýhodou je, že&#160;aj ku&#160;konzolovej aplikácii s&#160;HTTP klientom pribalí 30 až 50 MB (podľa výslednej platformy), čo&#160;pri serveri nevadí, no&#160;pri utilitke pre&#160;bežných ľudí hej.<p><strong>Edit</strong>: Aj&#160;<em>.Net Core (&lt; 3.0)</em> ide kompilovať do&#160;natívnej binárky, ktorá má obdobnú veľkosť ako program v&#160;<em>Go</em> pomocou<ul><li><a href=https://github.com/dotnet/corert/blob/master/Documentation/how-to-build-and-run-ilcompiler-in-console-shell-prompt.md>ILCompoler-u</a>,<li><a href=http://www.jackdermody.net/article/Compiling_NET_Core_to_Native>oficiálneho nástroja crossgen</a>,<li><a href="https://secanablog.wordpress.com/2018/06/08/compile-a-net-core-app-to-a-single-native-binary/">návodu na&#160;blogu Secana</a>.</ul><p><strong>Edit</strong>: Od&#160;<em>.Net Core 3.0</em> ide kompilovať projekt do&#160;natívnej jednosúborovej optimalizovanej natívnej binárky. Viac sa dozviete na&#160;<a href=https://www.hanselman.com/blog/MakingATinyNETCore30EntirelySelfcontainedSingleExecutable.aspx>blogu Scotta Hanselmana</a>. Napríklad pre&#160;Windows 10 stačí spraviť publish s&#160;parametrami: <code>dotnet publish -c Release -r win10-x64 -p:PublishTrimmed=true -p:PublishSingleFile=true</code>.<h3 id=rust>Rust</h3><p><em>Rust</em> je kompilovaný, staticky typový jazyk bez&#160;behového prostredia a&#160;garbage collectora. Je multparadigmový s&#160;výrazným ovplyvnením funkcionálnymi jazykmi. Podľa môjho názoru lepšie vyriešil všetky problémy, ktoré tu spomínam o&#160;Golangu.<p>Preto <em>Rust</em> považujem za&#160;najlepší náhradu Golangu, či&#160;už v&#160;malých utilitách alebo&#160;mikroslužbách.<h2 id=zaver>Záver</h2><p><em>Go</em> je veľmi primitívny jazyk, jeho syntax a&#160;premisy sa človek naučí zvládnuť za&#160;niekoľko hodín a&#160;za pár dní dokáže v&#160;ňom písať programy. Ale&#160;z charakteru jazyka, by som v&#160;ňom nepísal veľké systémy, skôr sa hodí na&#160;malé utilitky, mirkoslužby (ktoré sú ale&#160;fakt mikro) alebo&#160;pre použitie v&#160;<em>Raspberry Pi</em>.<p>Prosto všade tam, kde&#160;je výhodné mať malý procedurálny program (max. niekoľko stoviek riadkov), ktorý&#160;je ale&#160;pomerne rýchly a&#160;je bez&#160;závislostí na&#160;externom runtime, či&#160;knižniciach (netreba nič inštalovať na&#160;operačný systém). Pekným príkladom je napríklad utilitka <a href="https://ngrok.com/">ngrok</a>.</div><div class="col-lg-4 col-md-4 hidden-xs hidden-sm"><div class=well><h4>V&#xFD;voj</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/1brc.html>One Billion Rows Challenge</a><li><a href=/MigraciaBlogu.html>Migr&#xE1;cia blogu</a><li><a href=/PostKvantovaKryptografia.html>Post-kvantov&#xE1; kryptografia v C#</a><li><a href=/BouncyHsm.html>Ako som robil BouncyHsm</a><li><a href=/BuildAutomation.html>Pre&#x10D;o pou&#x17E;&#xED;va&#x165; build automation</a><li><a href=/KeyValueDB.html>Ako na Key-Value datab&#xE1;zu</a><li><a href=/RankFunctions.html>MS SQL a RANK funkcie</a><li><a href=/MongoDbVsRavenDb.html>MongoDB vs. RavenDB</a><li><a href=/WinHttp.html>Pou&#x17E;itie WinHTTP</a><li><a href=/BinaryContentInApi.html>ASP.NET Core API a bin&#xE1;rny obsah</a><li><a href=/DevelopingAll.html>&#8230;</a></ul></div></div></div><div class=well><h4>V&#x161;eobecn&#xE9;</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/EzoGenerator.html>Gener&#xE1;tor Ezo textov</a><li><a href=/AlternativnyRecept.html>Propag&#xE1;cia alternat&#xED;vnej medic&#xED;ny</a><li><a href=/VotrelciDavnoveku.html>Votrelci d&#xE1;vnoveku</a><li><a href=/GeneralAll.html>&#8230;</a></ul></div></div></div><div class=well><h4>O mne</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/VyvojarskeOdkazy.html>Moje vyvojarske blogy</a><li><a href=/OMne.html>O mne</a><li><a href=/OMneOdkazy.html>Moja tvorba inde</a><li><a href=/Portfolio.html>Portólio</a></ul></div></div></div></div></div><hr><footer><div class="row no-print"><div class="col-lg-8 col-sm-8"><div class=well><h4>Našli ste chybu, alebo chcete niečo doplniť?</h4><p>Ak ste našli chybu v článu, chcete niečo dopniť, alebo sa vyjadriť k téme, môžete na <a href="https://github.com/harrison314/harrison314.github.io/issues/new?title=Golang%20a%20alternat%C3%ADvy&amp;body=https%3A%2F%2Fharrison314.github.io%2FGoLang.html" target=_blank>Githube otvoriť issue</a>.</div></div></div><div class=row><div class=col-lg-12><p>Copyright &copy; harrison314 2013<span class=on-print> - https://harrison314.github.io/</span></div></div></footer></div><script src=js/jquery.js></script><script src=js/bootstrap.min.js></script>