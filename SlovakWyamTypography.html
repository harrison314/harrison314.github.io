<!DOCTYPE html><html lang=sk><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=X-Xss-Protection content="1; mode=block"><meta http-equiv=X-Content-Type-Options content=nosniff><meta name=viewport content="width=device-width, initial-scale=1"><link rel=alternate type=application/rss+xml title="RSS Feed" href=/feed.rss><link rel=alternate type=application/atom+xml title="Atom Feed" href=/feed.atom><meta name=author content=harrison314><title>Slovenská typografia pre wyam</title><meta property=og:title content="Slovenská typografia pre wyam"><meta property=og:description content="Pridanie podpory Slovenskej typografie pre generátor statických stránok Wyam."><meta property=og:url content=https://harrison314.github.io/SlovakWyamTypography.html><meta name=description content="Pridanie podpory Slovenskej typografie pre generátor statických stránok Wyam."><link href=css/bootstrap.min.css rel=stylesheet><link href=css/blog-post.css rel=stylesheet><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><link rel=stylesheet href=css/Highiler/vs.css><style>img{max-width:100%}.img-center{display:block;margin-left:auto;margin-right:auto}</style><body><nav class="navbar navbar-inverse navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href=index.html>harrison314 blog</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li><a href=/All.html>Obsah</a><li><a href=/DevelopingAll.html>Programovanie</a><li><a href=/GeneralAll.html>Všeobecné</a><li><a href=/OMne.html>O mne</a></ul></div></div></nav><div class=container><div class=row><div class="col-lg-8 col-md-8"><h1>Slovenská typografia pre wyam</h1><div class=publishDate>Marec 2019</div><p><a href="https://wyam.io/">Wyam</a> je primárne generátor statických webových stránok napísaných v&nbsp;dotnete (v súčasnosti .Net Core a&nbsp;dostupný ako dotnet global tool), no&nbsp;dá sa použiť aj&nbsp;na mnoho iných vecí ako generovanie e-kníh, generovanie HTML dokumentácie ku&nbsp;knižniciam…<p>Pomocou wyamu je generovaný aj&nbsp;tento blog. Je vhodný pre&nbsp;.Net vývojárov, lebo&nbsp;podporuje razor syntax, markdawn, rôzne zdroje metadát (YAML, Json, XML,…), vie používať nugety, doplnky a&nbsp;konfigurácia sa preň píše v&nbsp;C#.<p>Pre jednoduchšie písanie blogu som si preň vytvoril modul, ktorý&nbsp;sa stará o&nbsp;typografiu v&nbsp;texte - dopĺňa nedeliteľné medzery medzi predložky a&nbsp;slová a&nbsp;nahrádza tri bodky za&nbsp;trojbodku. Tieto detaily sú síce malé ale&nbsp;na výslednej čitateľnosti textu sa prejavia.<p>Nasledujúci kód je pre&nbsp;modul slovenskej typografie (je umiestnený priamo vo <em>config.wyam</em> súbore).<pre><code class="language-cs hljs">public class Typography : Wyam.Common.Modules.IModule
{
    private readonly Regex regex;

    public Typography()
    {
        this.regex = new Regex(@"(\s|^)(z|zo|bez|na|po|od|do|pri|pre|so|miesto|o|v|s|za|a|i|ani|aj|najprv|potom|ešte|ale|no|lež|jednako|alebo|buď|či|že|aby|čo|aký|ktorý|kde|keď|kým|kde|k|ku|čo|akoby|lebo|pretože|predsa)(\s+)([^\p{Cc}\p{Cf}\p{Z}]+)", RegexOptions.Compiled | RegexOptions.IgnoreCase);
    }

    public IEnumerable&lt;IDocument&gt; Execute(IReadOnlyList&lt;IDocument&gt; inputs, IExecutionContext context)
    {
       foreach(IDocument inputDocument in inputs)
       {
         string text = this.UseTypography(inputDocument.Content);
         yield return context.GetDocument(inputDocument, context.GetContentStream(text), null, true);
       }
    }

    private string UseTypography(string html)
    {
      string text = this.regex.Replace(html, "$1$2&amp;#160;$4");
      text = text.Replace("…", "&amp;#8230;");

      return text;
    }
}
</code></pre><p>A jeho ukážkové použitie vo wyam pipeline.<pre><code class="language-cs hljs">Pipelines.Add(<span class=hljs-string>"Posts"</span>,
    ReadFiles(<span class=hljs-string>"post/*.md"</span>),
    FrontMatter(Yaml()),
    <span class=hljs-keyword>new</span> Typography(),
    Meta(<span class=hljs-string>"Post"</span>, @doc.Content),
    Meta(<span class=hljs-string>"PostFile"</span>, <span class=hljs-keyword>string</span>.Format(<span class=hljs-string>@"{0}.html"</span>, @doc[<span class=hljs-string>"SourceFileBase"</span>])),
    Merge(ReadFiles(<span class=hljs-string>"post/postTemplate.cshtml"</span>)),
    Razor(),
    WriteFiles((<span class=hljs-keyword>string</span>)@doc[<span class=hljs-string>"PostFile"</span>])
);
</code></pre><h2 id=zdroje>Zdroje</h2><ol><li><a href="https://wyam.io/">Wyam.io</a><li><a href=https://github.com/Wyamio/Wyam>Wyam github</a><li><a href="https://jamstack.org/">JAM Stack</a></ol></div><div class="col-lg-4 col-md-4 hidden-xs hidden-sm"><div class=well><h4>Vývoj</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/BuildAutomation.html>Prečo používať build automation</a><li><a href=/KeyValueDB.html>Ako na Key-Value databázu</a><li><a href=/RankFunctions.html>MS SQL a RANK funkcie</a><li><a href=/MongoDbVsRavenDb.html>MongoDB vs. RavenDB</a><li><a href=/WinHttp.html>Použitie WinHTTP</a><li><a href=/BinaryContentInApi.html>ASP.NET Core API a binárny obsah</a><li><a href=/PerformaceInNet.html>Meranie performace pre dotnetistov</a><li><a href=/CngApiTips.html>Triky s Windows CNG API</a><li><a href=/InMemoryOltp.html>Experiment s In-Memory OLTP</a><li><a href=/CoMaNauciloIot.html>Čo ma naučilo IoT</a><li><a href=/DevelopingAll.html>…</a></ul></div></div></div><div class=well><h4>Všeobecné</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/EzoGenerator.html>Generátor Ezo textov</a><li><a href=/AlternativnyRecept.html>Propagácia alternatívnej medicíny</a><li><a href=/VotrelciDavnoveku.html>Votrelci dávnoveku</a><li><a href=/GeneralAll.html>…</a></ul></div></div></div><div class=well><h4>O mne</h4><div class=row><div class=col-lg-12><ul class=list-unstyled><li><a href=/VyvojarskeOdkazy.html>Moje vyvojarske blogy</a><li><a href=/OMne.html>O mne</a><li><a href=/OMneOdkazy.html>Moja tvorba inde</a><li><a href=/Portfolio.html>Portólio</a></ul></div></div></div></div></div><hr><footer><div class=row><div class="col-lg-8 col-sm-8"><div class=well><h4>Našli ste chybu, alebo chcete niečo doplniť?</h4><p>Ak ste našli chybu v článu, chcete niečo dopniť, alebo sa vyjadriť k téme, môžete na <a href="https://github.com/harrison314/harrison314.github.io/issues/new?title=Slovensk%C3%A1%20typografia%20pre%20wyam&amp;body=https%3A%2F%2Fharrison314.github.io%2FSlovakWyamTypography.html" target=_blank>Githube otvoriť issue</a>.</div></div></div><div class=row><div class=col-lg-12><p>Copyright © harrison314 2013</div></div></footer></div><script src=js/jquery.js></script><script src=js/bootstrap.min.js></script>